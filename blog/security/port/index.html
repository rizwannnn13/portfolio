<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Security | Port Forwarding</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />

    <!-- Icon Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />

    <!-- Roboto -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet" />

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/dhcp.css" />

    <!-- Icon HTML -->
    <link rel="icon" href="/assets/img/hack.png" />
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar fixed-top" style="background-color: #909294">
      <div class="container-md">
        <!-- Dark&Light Mode -->
        <div class="dropdown">
          <button class="btn nav-link dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-sun-fill theme-icon-active" data-theme-icon-active="bi-sun-fill"></i></button>
          <ul class="dropdown-menu">
            <li>
              <button class="dropdown-item d-flex align-items-center" type="button" data-bs-theme-value="light">
                <i class="bi bi-sun-fill me-2 opacity-50" data-theme-icon="bi-sun-fill"></i>
                Light
              </button>
            </li>
            <li>
              <button class="dropdown-item d-flex align-items-center" type="button" data-bs-theme-value="dark">
                <i class="bi bi-moon-stars-fill me-2 opacity-50" data-theme-icon="bi-moon-stars-fill"></i>
                Dark
              </button>
            </li>
          </ul>
        </div>
        <!-- Dark&Light Mode -->
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Rizwan <i class="bi bi-heart-fill text-danger"></i> AWS Cloud</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <!-- Debian 10 -->
            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"> Debian 10 </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="/blog/debian10/">Home-Debian 10</a></li>
                  <li><a class="dropdown-item" href="/blog/debian10/dhcp-server/">1. DHCP Server</a></li>
                  <li><a class="dropdown-item" href="/blog/debian10/ssh/">2. SSH</a></li>
                  <li><a class="dropdown-item" href="/blog/debian10/dns/">3. Domain Name Server</a></li>
                  <li><a class="dropdown-item" href="/blog/debian10/ftp/">4. FTP Server</a></li>
                  <li><a class="dropdown-item" href="/blog/debian10/apache2/">5. Apache2 WebServer</a></li>
                  <li><a class="dropdown-item" href="/blog/debian10/wordpress/">6. Wordpress</a></li>
                  <li><a class="dropdown-item" href="/blog/debian10/phpmyadmin/">7. PhpMyAdmin</a></li>
                </ul>
              </li>
              <!-- Debian 11 -->
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"> Debian 11 </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="/blog/debian11/">Home-Debian 11</a></li>
                  <li><a class="dropdown-item" href="/blog/debian11/installation/">q. Install 3VM</a></li>
                  <li><a class="dropdown-item" href="/blog/debian11/dns/">2. Domain Name Server</a></li>
                  <li><a class="dropdown-item" href="/blog/debian11/sftp/">3. SFTP Server</a></li>
                  <li><a class="dropdown-item" href="/blog/debian11/samba/">4. File Sharing Samba</a></li>
                  <li><a class="dropdown-item" href="/blog/debian11/virtualhost/">5. Virtual Host</a></li>
                  <li><a class="dropdown-item" href="/blog/debian11/myweb/">6. MyWeb</a></li>
                  <li><a class="dropdown-item" href="/blog/debian11/static/">7. Static Website</a></li>
                  <li><a class="dropdown-item" href="/blog/debian11/dvwa/">8. Setup DVWA Web</a></li>
                  <li><a class="dropdown-item" href="/blog/debian11/ansible/">9. Automation With Ansible</a></li>
                </ul>
              </li>
              <!-- Mikrotik -->
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"> Mikrotik </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="/blog/mikrotik/">Home-Mikrotik</a></li>
                  <li><a class="dropdown-item" href="/blog/mikrotik/basic-config/">1. Basic Config Mikrotik</a></li>
                  <li><a class="dropdown-item" href="/blog/mikrotik/vlan/">2. Configuration VLAN on the Swicth</a></li>
                  <li><a class="dropdown-item" href="/blog/mikrotik/route-static/">3. Routing Static; or</a></li>
                  <li><a class="dropdown-item" href="/blog/mikrotik/route-dynamic/">4. Routing Dynamic</a></li>
                  <li><a class="dropdown-item" href="/blog/mikrotik/hotspot/">5. Create Hotspot Login</a></li>
                  <li><a class="dropdown-item" href="/blog/mikrotik/block/">6. Block SSH, Telnet, and HTTP</a></li>
                  <li><a class="dropdown-item" href="/blog/mikrotik/bandwidth/">7. Add Simple Queque (Bandwidth)</a></li>
                  <li><a class="dropdown-item" href="/blog/mikrotik/load-balancing/">8. Load Balancing</a></li>
                  <li><a class="dropdown-item" href="/blog/mikrotik/bridge/">9. Bridge</a></li>
                </ul>
              </li>
              <!-- AWS Cloud -->
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"> AWS Cloud </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="/blog/aws/">Home-AWS Cloud</a></li>
                  <li><a class="dropdown-item" href="/blog/aws/cpanel/">1. Install cPanel</a></li>
                  <li><a class="dropdown-item" href="/blog/aws/wordpress/">2. Install Wordpress</a></li>
                  <li><a class="dropdown-item" href="/blog/aws/nginx/">3. Install NginX</a></li>
                  <li><a class="dropdown-item" href="/blog/aws/zabbix/">4. Install Zabbix & Database</a></li>
                  <li><a class="dropdown-item" href="/blog/aws/add-host-for-zabbix/">5. Add Host For Monitoring</a></li>
                  <li><a class="dropdown-item" href="/blog/aws/vpc/">6. Virtual Private Network</a></li>
                  <li><a class="dropdown-item" href="/blog/aws/webstatic/">7. Website Static</a></li>
                  <li><a class="dropdown-item" href="/blog/aws/nagios/">8. Install Nagios in New EC2</a></li>
                  <li><a class="dropdown-item" href="/blog/aws/nagios-for-webserver/">9. Nagios at WebServer</a></li>
                  <li><a class="dropdown-item" href="/blog/aws/nagios-for-database/">10. Nagios at Database</a></li>
                </ul>
              </li>
              <!-- Security -->
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"> Security </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="/blog/security/">Home-Security</a></li>
                  <li><a class="dropdown-item" href="/blog/security/installation/">1. Installasi</a></li>
                  <li><a class="dropdown-item" href="/blog/security/iptables/">2. IP Tables</a></li>
                  <li><a class="dropdown-item" href="/blog/security/cracklib/">3. Craklib</a></li>
                  <li><a class="dropdown-item" href="/blog/security/port/">4. Port Forwarding</a></li>
                  <li><a class="dropdown-item" href="/blog/security/mitm-and-ddos/">5. MITM & DDOS</a></li>
                  <li><a class="dropdown-item" href="/blog/security/snort/">6. Snort</a></li>
                  <li><a class="dropdown-item" href="/blog/security/otp/">7. Generated OTP</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
    <!-- Navbar End -->

    <!-- Article -->
    <div class="all">
      <div class="judul">
        <hr />
        <h1>Port Forwarding For Local SSH, WebServer, and FTP Service</h1>
        <hr />
      </div>
      <div class="article">
        <h3>Introduction</h3>
        <p>
          Port forwarding adalah mekanisme yang memungkinkan pengguna untuk mengarahkan lalu lintas data yang masuk ke port tertentu pada router atau firewall ke perangkat spesifik di dalam jaringan lokal. Setiap perangkat yang terhubung ke
          internet memiliki alamat IP dan port yang unik. Port forwarding memastikan bahwa permintaan atau data yang masuk melalui port tertentu diteruskan ke perangkat yang dituju.
        </p>
        <p>
          Port forwarding sangat berguna, dan dapat dipakai untuk banyak fungsi yang berbeda mulai dari keamanan yang lebih baik dan memblokir akses yang tak diinginkan, hingga memainkan game, mengelola akses kamera rumah, dan lain
          sebagainya. Juga bermanfaat untuk akses komputer jarak jauh dan menyembunyikan diri Anda atau jaringan Anda dari para pengintip.
        </p>

        <hr />
        <div class="gambar">
          <h3>Toppologi SSH</h3>
          <img src="../img/top-ssh.png" alt="" class="img-xl" />
          <hr />
          <h3>Toppologi FTP & Web Server</h3>
          <img src="../img/top-ftp&web.png" alt="" class="img-xl" />
          <hr />
          <h2>Configuration Router</h2>
        </div>
        <p>Dimateri kali ini saat seseorang akan SSH akan ada 2 kemungkinan.</p>
        <ul>
          <li>Saat SSH ke port 22, dia diarahkan ke Debian 10- Router</li>
          <li>Saat SSH ke port 222, dia diarahkan ke Debian 10- Server</li>
        </ul>
        <h3>Configuration IPTABLES DMZ (SSH)</h3>
        <pre class="important">
iptables -A INPUT -p tcp -m multiport -d 192.168.91.150 --dport 22 -j ACCEPT
iptables -A FORWARD -p tcp -m multiport -d 11.1.25.1 --dport 22 -j ACCEPT
iptables -t nat -A PREROUTING -p tcp -m multiport -d 192.168.91.150 --dport 222 -j DNAT --to 11.1.25.1:22</pre
        >
        <h3>Configuration IPTABLES DMZ (FTP)</h3>
        <pre class="important">
iptables -A INPUT -p tcp -m multiport -d 192.168.91.150 --dport 21 -j ACCEPT
iptables -A FORWARD -p tcp -m multiport -d 11.1.25.1 --dport 21 -j ACCEPT
iptables -t nat -A PREROUTING -p tcp -m multiport -d 192.168.91.150 --dport 21 -j DNAT --to 11.1.25.1:21</pre
        >
        <h3>Configuration IPTABLES DMZ (HTTP server)</h3>
        <pre class="important">
iptables -A INPUT -p tcp -m multiport -d 192.168.91.150 --dport 80 -j ACCEPT
iptables -A FORWARD -p tcp -m multiport -d 11.1.25.1 --dport 80 -j ACCEPT
iptables -t nat -A PREROUTING -p tcp -m multiport -d 192.168.91.150 --dport 80 -j DNAT --to 11.1.25.1:80</pre
        >
        <h2>Configuration Server</h2>
        <h3>Install vsftpd</h3>
        <pre class="important">apt install vsftpd</pre>
        <h4>*attention</h4>
        <p>Proftpd dan vsftpd dua server FTP yang sangat populer untuk sistem Unix / Linux. Meskipun mereka sangat mirip dalam hal fungsi, ada beberapa perbedaan penting.</p>
        <ol>
          <li>
            Manfaat utama dari proftpd adalah bahwa ia memiliki sebuah file konfigurasi yang sangat mudah dikelola. Sintaks dari proftpd.conf sangat mirip dengan file konfigurasi Apache. Hal ini membuat untuk standarisasi cukup efisien file
            konfigurasi. Hal ini mudah dikenali karena arsitektur modular.
          </li>
          <li>
            vsftpd adalah FTP server default untuk Ubuntu, CentOS, Fedora, dan Red Hat. Hal ini membuatnya sangat mudah untuk menginstal dibandingkan dengan proftpd, tetapi tidak hadir semudah dari file konfigurasi. vsftpd juga dilaporkan
            lebih aman.
          </li>
        </ol>
        <h3>Change File vsftpd</h3>
        <pre class="important">nano /etc/vsftpd.conf</pre>
        <pre class="important">
#write_enable=YES
*change to
write_enable=YES

#chroot_local_user=YES
*change to
chroot_local_user=YES

#chroot_list_enable=YES
*change to
chroot_list_enable=YES

#chroot_list_file=/etc/vsftpd.chroot_list
*change to
chroot_list_file=/etc/vsftpd.chroot_list

ssl_enable=NO
*(tetap tidak usah dirubahh), jika default ada tanda # dibuang</pre
        >
        <h3>Determines Who Users Can Access vsftpd's FTP</h3>
        <pre class="important">echo rizwan1 >> /etc/vsftpd.chroot_list</pre>

        <h2>Configuration is Completed</h2>
        <h3>Check SSH Service</h3>
        <pre class="important">
*testing from windows-host
ssh root@192.168.91.150 -p 22
maka hasilnya kita akan masuk ke Debian10-Router

ssh root@192.168.91.150 -p 222
maka hasilnya kita akan masuk ke Debian10-Server</pre
        >
        <h3>Check WebServer Service</h3>
        <pre class="important">
*testing from windows-host
http://192.168.91.150

*testing from windows-client
http://11.1.25.1</pre
        >
        <h3>Check FTP Service</h3>
        <pre class="important">
*testing from windows-host
ftp://192.168.91.150

username : rizwan2
password : R1zw4n@123</pre
        >
      </div>
      <!-- Article End -->

      <!-- Footer -->
      <div class="footer">
        <hr />
        <div class="name-footer">
          <h2>Rizwan Fairuz Mamduh</h2>
          <p>Contact me:</p>
        </div>
        <div class="icon-footer">
          <div class="icon1">
            <a href="https://wa.me/628979620353" target="_blank"><i class="bi bi-whatsapp text-success"></i></a>
          </div>
          <div class="icon2">
            <a href="https://www.instagram.com/ryzwannn13/" target="_blank"><i class="bi bi-instagram text-danger"></i></a>
          </div>
          <div class="icon3">
            <a href="https://www.linkedin.com/in/rizwan-fairuz-mamduh" target="_blank"><i class="bi bi-linkedin text-primary"></i></a>
          </div>
          <div class="icon4">
            <a href="https://github.com/ryzwan29" target="_blank"><i class="bi bi-github text-primary"></i></a>
          </div>
        </div>
      </div>
      <!-- Footer End -->
    </div>

    <!-- Bootstrap 5 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <!-- JS Dark&Light Mode -->
    <script src="/assets/js/mode.js"></script>
  </body>
</html>
