<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud | VPC</title>

    <link rel="stylesheet" href="/assets/css/dhcp.css">
    <link rel="icon" href="/assets/img/aws.webp">
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="header">
                <div class="judul">
                    <h1>VPC</h1>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="navigation">
                <h1>Dokumentasi</h1>
            </div>
        </div>
        <div class="row">
            <div class="sidebar">
                <h1>Debian 10</h1>
                <ul>
                    <li><a href="/blog/debian10/">Home Debian</a></li>
                    <li><a href="/blog/debian10/dhcp-server/">Superlab-DHCP Server</a></li>
                    <li><a href="/blog/debian10/ssh/">Superlab-SSH</a></li>
                    <li><a href="/blog/debian10/dns/">Superlab-DNS Server</a></li>
                    <li><a href="/blog/debian10/ftp/">Superlab-FTP Server</a></li>
                    <li><a href="/blog/debian10/apache2/">Superlab-Web Server</a></li>
                    <li><a href="/blog/debian10/wordpress/">Superlab-Wordpress</a></li>
                    <li><a href="/blog/debian10/phpmyadmin/">Superlab-PhpMyAdmin</a></li>
                </ul>
                <h1>Mikrotik</h1>
                <ul>
                    <li><a href="/blog/mikrotik/">Home Mikrotik</a></li>
                    <li><a href="/blog/mikrotik/basic-config/">Basic Config</a></li>
                    <li><a href="/blog/mikrotik/vlan/">VLAN</a></li>
                    <li><a href="/blog/mikrotik/route-static/">Routing Static</a></li>
                    <li><a href="/blog/mikrotik/route-dynamic/">Routing Dynamic</a></li>
                    <li><a href="/blog/mikrotik/hotspot/">Hotspot Login</a></li>
                    <li><a href="/blog/mikrotik/block/">Blok SSH, Telnet, HTTP</a></li>
                    <li><a href="/blog/mikrotik/bandwidth/">Bandwidth</a></li>
                    <li><a href="/blog/mikrotik/load-balancing/">Load Balanding</a></li>
                    <li><a href="/blog/mikrotik/bridge/">Bridge</a></li>
                </ul>
                <h1>AWS Cloud</h1>
                <ul>
                    <li><a href="/blog/aws/">Home Cloud</a></li>
                    <li><a href="/blog/aws/cpanel/">Install cPanel</a></li>
                    <li><a href="/blog/aws/wordpress/">Install Wordpress</a></li>
                    <li><a href="/blog/aws/nginx/">Install NginX</a></li>
                    <li><a href="/blog/aws/zabbix/">Install Zabbix & Database</a></li>
                    <li><a href="/blog/aws/add-host-for-zabbix/">Add Host For Monitoring</a></li>
                    <li><a href="/blog/aws/vpc/">Virtual Private Network</a></li>
                    <li><a href="/blog/aws/webstatic/">Website Static</a></li>
                    <li><a href="/blog/aws/nagios/">Install Nagios</a></li>
                    <li><a href="/blog/aws/nagios-for-webserver/">Nagios at WebServer</a></li>
                    <li><a href="/blog/aws/nagios-for-database/">Nagios at Database</a></li>
                </ul>
                <h1>Security</h1>
                <ul>
                    <li><a href="/blog/security/">Home Security</a></li>
                    <li><a href="/blog/security/installation/">Installasi</a></li>
                    <li><a href="/blog/security/iptables/">IP Tables</a></li>
                    <li><a href="/blog/security/cracklib/">Craklib</a></li>
                    <li><a href="/blog/security/port/">Port Forwarding</a></li>
                    <li><a href="/blog/security/mitm-and-ddos/">MITM&DDOS</a></li>
                    <li><a href="/blog/security/snort/">Snort</a></li>
                    <li><a href="/blog/security/otp/">Generated OTP</a></li>
                </ul>
                <h1>Debian 11</h1>
                <ul>
                    <li><a href="/blog/debian11/">Home Debian11</a></li>
                    <li><a href="/blog/debian11/installation/">Install 3VM</a></li>
                    <li><a href="/blog/debian11/dns/">DNS</a></li>
                    <li><a href="/blog/debian11/sftp/">SFTP</a></li>
                    <li><a href="/blog/debian11/samba/">Samba</a></li>
                    <li><a href="/blog/debian11/virtualhost/">VirtualHost</a></li>
                    <li><a href="/blog/debian11/myweb/">MyWeb</a></li>
                    <li><a href="/blog/debian11/static/">Static</a></li>
                    <li><a href="/blog/debian11/dvwa/">DVWA</a></li>
                    <li><a href="/blog/debian11/ansible/">Automation</a></li>
                </ul>
                <h1>Referensi</h1>
                <ul>
                    <li><a target="_blank" href="https://youtube.com/playlist?list=PL2O3HdJI4voFrbZ9a6S7U-ct4B074hnGv&si=ODprtrprb8aEHkd_">Playlist Youtube belajar Cloud Networking di AWS</a></li>
                    <li><a target="_blank" href="https://docs.aws.amazon.com/id_id/vpc/latest/userguide/what-is-amazon-vpc.html">AWS-Apa itu VPC</a></li>
                    <li><a target="_blank" href="https://docs.aws.amazon.com/id_id/vpc/latest/userguide/how-it-works.html">AWS-Bagaimana VPC berfungsi</a></li>
                </ul>
            </div>
            <div class="content">
                <div class="text" style="margin-inline: 20px;">
                <h1>Apa Itu VPC</h1>
                <p>Amazon Virtual Private Cloud (VPC) adalah layanan cloud yang disediakan oleh Amazon Web Services (AWS) untuk membuat dan mengelola jaringan virtual di lingkungan cloud AWS. Dengan Amazon VPC, Anda dapat mengisolasi sumber daya komputasi secara logis, seperti mesin virtual (Amazon EC2), dan layanan lainnya didalam jaringan virtual yang terisolasi sepenuhnya dari internet atau jaringan publik. Jaringan virtual yang dibuat sangat mirip dengan jaringan tradisional yang Anda operasikan di data center on-premises, dengan manfaatnya yaitu menggunakan infrastruktur AWS yang dapat di skalakan.</p>
                <img src="/blog/aws/img/what-is-vpc.png" alt="" class="vpc">
                <p>Diagram diatas menunjukan contoh VPC. VPC memiliki satu subnet disetiap Availibility Zone di Region dengan EC instance disetiap subnet, dan Internet Gateway untuk memungkinkan komunikasi antara sumber daya di VPC dengan Internet.</p>
                <h1>Toppologi</h1>
                <img src="/blog/aws/img/vpc1.webp" alt="" class="top1">
                
                <h2>Create VPC</h2>
                <div class="daging">
<p style="color: white; font-size: 16px;">
Pilih : VPC Only <br>
Name tag : VPC-Jakarta <br>
IPv4 CIDR : 10.10.0.0/16 <br>
</p>
                </div>
                <h2>Create Subnet</h2>
                <div class="daging">
<pre>
#Public Subnet#
VPC ID : VPC-Jakarta
Subnet name : pub-subnet-jakarta
Availibility Zone : us-east-1a
IPv4 CIDR : 10.10.1.0/24
    
#Private Subnet#
VPC ID : VPC-Jakarta
Subnet name : priv-subnet-jakarta
Availibility Zone : us-east-1a
IPv4 CIDR : 10.10.2.0/24
</pre>
                </div>
                <h2>Edit Public Subnet</h2>
                <div class="daging">
<p style="color: white; font-size: 15px;">
Enable auto-assign public IPv4 address : yes <br>
Enable resource name DNS A record on launch : yes
</p>
                </div>
                <h2>Create Internet Gateway</h2>
                <div class="daging">
<pre>
Name tag : IGW-VPC-Jakarta
Attach to VPC-Jakarta
</pre>
                </div>
                <h2>Create NAT Gateway</h2>
                <div class="daging">
<pre>
Name : NGW-VPC-Jakarta
Subnet : pub-subnet-jakarta
Connectivity type : Public
Klik "Allocate Elastic IP"
</pre>
                </div>
                <h2>Create Routes Table</h2>
                <div class="daging">
<pre>
#Public Routes Table#
Name : pub-route-jakarta
VPC : VPC-Jakarta

#Private Routes Table#
Name : priv-route-jakarta
VPC : VPC-Jakarta
</pre>
                </div>
                <h2>Edit Routes Table</h2>
                <div class="daging">
<pre>
#Public Routes Table#
10.10.0.0/16 : Local
0.0.0.0/0 : Internet Gateway

#Private Routes Table#
10.10.0.0/16 : Local
0.0.0.0/0 : NAT Gateway


##Edit Subnet Associations##
#Public#
Explicit subnet associations : pub-subnet-jakarta

#Private#
Explicit subnet associations : priv-subnet-jakarta
</pre>
                </div>
                <h2>Create Security Group</h2>
                <div class="daging">
<pre>
Name : SG-BastionHost
VPC : VPC-Jakarta
Inbound Rules :
    - SSH | Any Where (IPv4)
Outbound Rules : 
    - All Trafic | Any Where (IPv4)

Name : SG-WebServer
VPC : VPC-Jakarta
Inbound Rules :
    - SSH | Custom : SG-BastionHost
    - HTTP | Any Where (IPv4)
    - HTTPS | Any Where (IPv4)
Outbound Rules : 
    - All Trafic | Any Where (IPv4)

Name : SG-DBServer
VPC : VPC-Jakarta
Inbound Rules :
    - SSH | Custom : SG-BastionHost
    - MySQL/Aurora | Custom : SG-WebServer
Outbound Rules : 
    - All Trafic | Any Where (IPv4)
</pre>
                </div>
                <h2>Create EC2</h2>
                <div class="daging">
<pre>
#Bastion Host#
Name : Bastion Host
OS : Ubuntu 22.04
Instance type : t2.micro
Key pair : vockey (.pem)
Network Setting : klik Edit
	VPC = VPC-Jakarta
	Subnet = pub-subnet-jakarta
	Auto-assign public IP : enable
	Security Group : SG-BastionHost
Storage / EBS : 8GB

#WebServer#
Name & Tag : WebServer
OS : Debian 12
Instance type : t2.micro
Key pair : vockey (.pem)
Network Setting : klik Edit
	VPC = VPC-Jakarta
	Subnet = pub-subnet-jakarta
	Auto-assign public IP : enable
	Security Group : SG-WebServer
Storage / EBS : 10GB

#Database#
Name & Tag : DBInstance
OS : Debian 12
Instance type : t2.micro
Key pair : vockey (.pem)
Network Setting : klik Edit
	VPC = VPC-Jakarta
	Subnet = priv-subnet-jakarta
	Auto-assign public IP : disable
	Security Group : SG-DBServer
Storage / EBS : 10GB
</pre>
                </div>
                <h2>=== IP Address ===</h2>
                <table border="1" cellpadding="10">
                    <tr>
                        <td>Instance</td>
                        <td>IP Public</td>
                        <td>IP Private</td>
                    </tr>
                    <tr>
                        <td>Bastion Host</td>
                        <td>3.82.107.26</td>
                        <td>10.10.1.198</td>
                    </tr>
                    <tr>
                        <td>Web Server</td>
                        <td>52.91.87.14</td>
                        <td>10.10.1.85</td>
                    </tr>
                    <tr>
                        <td>DBInstance</td>
                        <td >-</td>
                        <td>10.10.2.107</td>
                    </tr>
                </table>
                <h2>How to Connect SSH</h2>
                <ol>
                    <li>Open GitBash</li>
                    <li>cd Downloads/</li>
                    <li>ssh-agent bash</li>
                    <li>ssh-add labsuser.pem</li>
                </ol>
                <p><strong>ssh -A -i labsuser username@ip-addr-pub-bastion</strong></p>
    
                <div class="daging">
<p style="color: white; font-size: 16px;">
ssh -A -i labsuser ubuntu@3.82.107.26
</p>
                </div>
                <h2>SSH Jump to WebServer/DBInstance</h2>
                <p><strong>Dari Bastion Host</strong></p>
                <div class="daging">
<pre>
ssh username@ip-priv-ec2

ssh admin@10.10.1.85
ssh admin@10.10.2.107
</pre>
                </div>
            </div>
            </div>
        </div>
        <div class="row">
            <div class="footer">
                <h1>Created By : Rizwan Fairuz Mamduh</h1>
            </div>
        </div>
    </div>
</body>
</html>