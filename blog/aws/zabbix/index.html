<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud | Zabbix</title>
    
    <link rel="stylesheet" href="/assets/css/dhcp.css">
    <link rel="icon" href="/assets/img/aws.webp">
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="header">
                <div class="judul">
                    <h1>Zabbix</h1>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="navigation">
                <h1>Dokumentasi</h1>
            </div>
        </div>
        <div class="row">
            <div class="sidebar">
                <h1>Debian 10</h1>
                <ul>
                    <li><a href="/blog/debian10/">Home Debian</a></li>
                    <li><a href="/blog/debian10/dhcp-server/">Superlab-DHCP Server</a></li>
                    <li><a href="/blog/debian10/ssh/">Superlab-SSH</a></li>
                    <li><a href="/blog/debian10/dns/">Superlab-DNS Server</a></li>
                    <li><a href="/blog/debian10/ftp/">Superlab-FTP Server</a></li>
                    <li><a href="/blog/debian10/apache2/">Superlab-Web Server</a></li>
                    <li><a href="/blog/debian10/wordpress/">Superlab-Wordpress</a></li>
                    <li><a href="/blog/debian10/phpmyadmin/">Superlab-PhpMyAdmin</a></li>
                </ul>
                <h1>Mikrotik</h1>
                <ul>
                    <li><a href="/blog/mikrotik/">Home Mikrotik</a></li>
                    <li><a href="/blog/mikrotik/basic-config/">Basic Config</a></li>
                    <li><a href="/blog/mikrotik/vlan/">VLAN</a></li>
                    <li><a href="/blog/mikrotik/route-static/">Routing Static</a></li>
                    <li><a href="/blog/mikrotik/route-dynamic/">Routing Dynamic</a></li>
                    <li><a href="/blog/mikrotik/hotspot/">Hotspot Login</a></li>
                    <li><a href="/blog/mikrotik/block/">Blok SSH, Telnet, HTTP</a></li>
                    <li><a href="/blog/mikrotik/bandwidth/">Bandwidth</a></li>
                    <li><a href="/blog/mikrotik/load-balancing/">Load Balanding</a></li>
                    <li><a href="/blog/mikrotik/bridge/">Bridge</a></li>
                </ul>
                <h1>AWS Cloud</h1>
                <ul>
                    <li><a href="/blog/aws/">Home Cloud</a></li>
                    <li><a href="/blog/aws/cpanel/">Install cPanel</a></li>
                    <li><a href="/blog/aws/wordpress/">Install Wordpress</a></li>
                    <li><a href="/blog/aws/nginx/">Install NginX</a></li>
                    <li><a href="/blog/aws/zabbix/">Install Zabbix & Database</a></li>
                    <li><a href="/blog/aws/add-host-for-zabbix/">Add Host For Monitoring</a></li>
                    <li><a href="/blog/aws/vpc/">Virtual Private Network</a></li>
                    <li><a href="/blog/aws/webstatic/">Website Static</a></li>
                    <li><a href="/blog/aws/nagios/">Install Nagios</a></li>
                    <li><a href="/blog/aws/nagios-for-webserver/">Nagios at WebServer</a></li>
                    <li><a href="/blog/aws/nagios-for-database/">Nagios at Database</a></li>
                </ul>
                <h1>Security</h1>
                <ul>
                    <li><a href="/blog/security/">Home Security</a></li>
                    <li><a href="/blog/security/installation/">Installasi</a></li>
                    <li><a href="/blog/security/iptables/">IP Tables</a></li>
                    <li><a href="/blog/security/cracklib/">Craklib</a></li>
                    <li><a href="/blog/security/port/">Port Forwarding</a></li>
                    <li><a href="/blog/security/mitm-and-ddos/">MITM&DDOS</a></li>
                    <li><a href="/blog/security/snort/">Snort</a></li>
                    <li><a href="/blog/security/otp/">Generated OTP</a></li>
                </ul>
                <h1>Debian 11</h1>
                <ul>
                    <li><a href="/blog/debian11/">Home Debian11</a></li>
                    <li><a href="/blog/debian11/installation/">Install 3VM</a></li>
                    <li><a href="/blog/debian11/dns/">DNS</a></li>
                    <li><a href="/blog/debian11/sftp/">SFTP</a></li>
                    <li><a href="/blog/debian11/samba/">Samba</a></li>
                    <li><a href="/blog/debian11/virtualhost/">VirtualHost</a></li>
                    <li><a href="/blog/debian11/myweb/">MyWeb</a></li>
                    <li><a href="/blog/debian11/static/">Static</a></li>
                    <li><a href="/blog/debian11/dvwa/">DVWA</a></li>
                    <li><a href="/blog/debian11/ansible/">Automation</a></li>
                </ul>
            </div>
            <div class="content">
                <h1>Penjelasan</h1>
                <p>Zabbix adalah salah satu software opensource yang dapat digunakan
                    untuk memonitoring jaringan dan status dari berbagai macam jenis
                    device, server, dan network hardware lainnya. Software ini diciptakan
                    oleh Alexei Vladishev. <br>
                    Dengan Zabbix, user dapat dengan mudah mengetahui status server,
                    kondisi jaringan dan mendapatkan notifikasi jika terjadi gangguan.
                </p>
                <h1>Arsitektur NMS Zabbix</h1>
                <ol>
                    <li>Zabbix Server : adalah proses utama atau komponen utama dari NMS Zabbix, komponen ini berisi konfigurasi dari
                        Zabbix dan service network. Zabbix server menggunakan port 10051.</li>
                    <li>Zabbix Agent : adalah UNIX daemon yang berjalan pada host yang sedang dipantau (monitoring), agent ini
                        mengumpulkan informasi, menantau peforma host, dan mengirimkan informasi-informasi tersebut ke
                        Zabbix Server. Zabbix agent menggunakan port 10050.</li>
                    <li>Zabbix Proxy : Adalah sebuah proses yang berugas untuk mengumpulkan hasil kinerja dan ketersediaan dari satu
                        atau lebih perangkat yang di monitor dan mengirimkan data tersebut ke server Zabbix.</li>
                </ol>
                <h1>Konfigurasi</h1>
                <h2 class="h2-wp">Membuat EC2</h2>
                <div class="daging">
<pre>
Name : Server-Zabbix
Ubuntu 22.04 (t2.small)
keypair : vockey (pem)
Create new SG
"SG-All TCP Open"
</pre>
                </div>
                <h2 class="h2-wp">SSH EC2</h2>
                <div class="daging">
<pre>
cd Downloads
ssh -i labauser.pem ubuntu@&lt;ip-addr-ec2&gt;

ssh -i labsuser.pem ubuntu@54.89.174.237
</pre>
                </div>
                <h2 class="h2-wp">Install Package</h2>
                <div class="daging">
<p style="color: white; font-size: 14px;">
wget https://repo.zabbix.com/zabbix/6.0/ubuntu/pool/main/z/zabbix-release/zabbix-release_6.0-4+ubuntu$(lsb_release -rs)_all.deb <br><br>
sudo dpkg -i zabbix-release_6.0-4+ubuntu$(lsb_release -rs)_all.deb <br><br>
sudo apt update <br><br>
sudo apt -y install zabbix-server-mysql zabbix-frontend-php zabbix-apache-conf zabbix-sql-scripts zabbix-agent 
</p>
                </div>
                <h2 class="h2-wp">Membuat RDS</h2>
                <div class="daging">
<p style="color: white; font-size: 16px;">
MariaDB 10.6.10 <br>
DB Instance Identity : db-zabbix <br>
Master-username : root <br>
Master-password : rootDBpass <br>
Free tier <br>
db.t2.micro <br>
SG VPC: (Choose exiting) default <br><br>

endpoint RDS : db-zabbix.c52qu2eqwb8t.us-east-1.rds.amazonaws.com
</p>
                </div>
                <h2 class="h2-wp">Edit SG-default</h2>
                <p>Edit Inbound rules SG-default</p>
                <div class="daging">
<pre>
MySQL/Aurora TCP 3306 Custom (SG-All TCP Open)
</pre>
                </div>
                <h2 class="h2-wp">Install Mariadb</h2>
                <div class="daging">
<pre>
apt install mariadb-client
</pre>
                </div>
                <h2 class="h2-wp">Hubungkan ke Database</h2>
                <div class="daging">
<pre>
sudo mysql -uroot -p'rootDBpass' -h &lt;endpoint-rds&gt;

create database zabbix character set utf8 collate utf8_bin;
create user 'zabbix'@'%' identified by 'zabbixDBpass';
grant all privileges on zabbix.* to 'zabbix'@'%' identified by 'zabbixDBpass';
exit;
</pre>
                </div>
                <h2 class="h2-wp">Membuat Parameter Group RDS</h2>
                <div class="daging">
<p style="color: white; font-size: 16px;">
Parameter group family: mariadb10.6 <br>
Group name: parameter-zabbix <br>
Description: permit zabbix server to replicated databases
</p>
                </div>
                <h2 class="h2-wp">Edit parameter-zabbix</h2>
                <div class="daging">
<p style="color: white; font-size: 16px;">
log_bin_trust_function_creators : Value 1
</p>
                </div>
                <h2 class="h2-wp">Modify Database</h2>
                <div class="daging">
<p style="color: white; font-size: 16px;">
Database option : parameter-zabbix <br>
"apply immediately" <br><br>

#Reboot Database#
</p>
                </div>
                <h2 class="h2-wp">Konfigurasi Database</h2>
                <div class="daging">
<p style="color: white; font-size: 16px;">
sudo zcat /usr/share/zabbix-sql-scripts/mysql/server.sql.gz | mysql -f --default-character-set=utf8mb4 -uzabbix -p'zabbixDBpass' -h &lt;endpoint-rds&gt; zabbix
</p>
                </div>
                <h2 class="h2-wp">Verifikasi Database</h2>
                <p><strong>nano /etc/zabbix/zabbix_server.conf</strong></p>
                <div class="daging">
<pre>
DBHost=&lt;endpoint-rds&gt;
DBPassword=zabbixDBpass
</pre>
                </div>
                <h2 class="h2-wp">Restart Firewall</h2>
                <div class="daging">
<pre>
ufw allow 10050/tcp
ufw allow 10051/tcp
ufw allow 80/tcp
ufw reload

#if cannot reload firewall, enable firewall first#
ufw enable
ufw reload
</pre>
                </div>
                <h2 class="h2-wp">Restart Zabbix</h2>
                <div class="daging">
<p style="color: white; font-size: 16px;">
sudo systemctl restart zabbix-server zabbix-agent <br>
sudo systemctl enable zabbix-server zabbix-agent
</p>
                </div>
                <h2 class="h2-wp">Konfigurasi Timezone</h2>
                <p><strong>nano /etc/zabbix/apache.conf</strong></p>
                <div class="daging">
<p style="color: white; font-size: 16px;">
php_value date.timezone Asia/Jakarta
</p>
                </div>
                <h2 class="h2-wp">Setup Zabbix</h2>
                <p><strong>Buka Browser &lt;ip-addr-ec2/zabbix&gt;</strong></p>
                <div class="daging">
<p style="color: white; font-size: 16px;">
Database type : MySQL <br>
Database host : &lt;endpoint-rds&gt; <br>
Database name : zabbix <br>
User : zabbix <br>
Password : zabbixDBpass <br>
Database TLS encryption : yes
</p>
                </div>
                <h2 class="h2-wp">Login Zabbix</h2>
                <div class="daging">
<pre>
User: Admin
Pass: zabbix
</pre>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="footer">
                <h1>Created By : Rizwan Fairuz Mamduh</h1>
            </div>
        </div>
    </div>
</body>
</html>